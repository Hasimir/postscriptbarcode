NAME = postscriptbarcode

RUBY_MAKEFILE_IN  = extconf.rb
RUBY_MAKEFILE     = Makefile
RUBY_OUT = $(NAME).so

cleanlist += $(RUBY_MAKEFILE)

.PHONY: all swig-ruby install uninstall clean

all: swig-ruby

swig-ruby: $(RUBY_OUT)

$(RUBY_OUT): $(RUBY_MAKEFILE)
	make -f $<

$(RUBY_MAKEFILE): $(RUBY_MAKEFILE_IN)
	ruby $<

install: $(RUBY_MAKEFILE) $(RUBY_OUT)
	make -f $< install

uninstall: $(RUBY_MAKEFILE)
	make -f $< uninstall

clean:
	-make -f $(RUBY_MAKEFILE) clean
	$(RM) $(cleanlist)

