%!PS

/barcode (042712000064) def

1 {  % Common exit
    /upcecode 8 string def
    barcode 3 get 48 sub 2 le barcode 4 4 getinterval (0000) eq and {
        upcecode 0 barcode  0 3 getinterval putinterval
        upcecode 3 barcode  8 3 getinterval putinterval
        upcecode 6 barcode  3 1 getinterval putinterval
        upcecode 7 barcode 11 1 getinterval putinterval
        exit
    } if
    barcode 4 5 getinterval (00000) eq {
        upcecode 0 barcode  0 4 getinterval putinterval
        upcecode 4 barcode  9 2 getinterval putinterval
        upcecode 6 (3) putinterval
        upcecode 7 barcode 11 1 getinterval putinterval
        exit
    } if
    barcode 5 5 getinterval (00000) eq {
        upcecode 0 barcode  0 5 getinterval putinterval
        upcecode 5 barcode 10 1 getinterval putinterval
        upcecode 6 (4) putinterval
        upcecode 7 barcode 11 1 getinterval putinterval
        exit
    } if
    barcode 10 get 48 sub 5 ge barcode 6 4 getinterval (0000) eq and {
        upcecode 0 barcode  0 6 getinterval putinterval
        upcecode 6 barcode 10 2 getinterval putinterval
        exit
    } if
} repeat

upcecode asdf

